<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>[Название придумывается] | Детективная новелла 18+</title>
    <link rel="stylesheet" href="css/main_menu.css">
    <link rel="stylesheet" href="css/character_selection.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Экран проверки возраста -->
    <div id="age-check" class="screen active">
        <div class="age-container">
            <div class="age-warning">
                <i class="fas fa-exclamation-triangle"></i>
                <h1>КОНТЕНТ ДЛЯ ВЗРОСЛЫХ</h1>
                <div class="warning-content">
                    <p>Эта игра содержит материалы для лиц старше 18 лет:</p>
                    <ul>
                        <li><i class="fas fa-user-secret"></i> Детективные расследования</li>
                        <li><i class="fas fa-brain"></i> Психологическое напряжение</li>
                        <li><i class="fas fa-theater-masks"></i> Сложные моральные выборы</li>
                        <li><i class="fas fa-heart"></i> Элементы романтики</li>
                    </ul>
                    <div class="age-requirement">
                        <p><strong>Для доступа к игре вам должно быть <span class="age-number">18</span> лет или больше</strong></p>
                    </div>
                </div>
                <div class="age-buttons">
                    <button id="age-yes" class="btn-age btn-yes">
                        <i class="fas fa-check-circle"></i> МНЕ ЕСТЬ 18 ЛЕТ
                    </button>
                    <button id="age-no" class="btn-age btn-no">
                        <i class="fas fa-times-circle"></i> МНЕ НЕТ 18 ЛЕТ
                    </button>
                </div>
                <p class="age-notice">Нажимая кнопку, вы подтверждаете свой возраст и соглашаетесь с условиями</p>
            </div>
        </div>
    </div>

    <!-- Главное меню -->
    <div id="main-menu" class="screen">
        <!-- Фон с анимацией -->
        <div class="menu-background">
            <div class="bg-overlay"></div>
            <canvas id="rain-effect"></canvas>
            
            <!-- Неоновые элементы -->
            <div class="neon-light neon-1"></div>
            <div class="neon-light neon-2"></div>
            <div class="neon-light neon-3"></div>
        </div>
        
        <!-- Контейнер меню -->
        <div class="menu-container">
            <!-- Логотип -->
            <div class="logo-section">
                <div class="logo-main">
                    <h1 class="logo-text">[Название</h1>
                    <h2 class="logo-subtext">придумывается]</h2>
                </div>
                <div class="logo-tag">
                    <span class="tag-line">Детективная новелла для взрослых</span>
                    <span class="tag-warning"><i class="fas fa-18"></i> 18+</span>
                </div>
            </div>
            
            <!-- Основные кнопки меню -->
            <div class="menu-buttons">
                <button class="menu-btn" id="btn-new" data-action="new">
                    <span class="btn-icon"><i class="fas fa-play-circle"></i></span>
                    <span class="btn-label">НОВОЕ ДЕЛО</span>
                    <span class="btn-desc">Начать расследование</span>
                </button>
                
                <button class="menu-btn" id="btn-continue" data-action="continue" disabled>
                    <span class="btn-icon"><i class="fas fa-forward"></i></span>
                    <span class="btn-label">ПРОДОЛЖИТЬ</span>
                    <span class="btn-desc">Загрузка недоступна</span>
                </button>
                
                <button class="menu-btn" id="btn-load" data-action="load">
                    <span class="btn-icon"><i class="fas fa-folder-open"></i></span>
                    <span class="btn-label">ЗАГРУЗИТЬ</span>
                    <span class="btn-desc">Выбрать сохранение</span>
                </button>
                
                <button class="menu-btn" id="btn-gallery" data-action="gallery">
                    <span class="btn-icon"><i class="fas fa-images"></i></span>
                    <span class="btn-label">ГАЛЕРЕЯ</span>
                    <span class="btn-desc">Разблокированные сцены</span>
                </button>
                
                <button class="menu-btn" id="btn-settings" data-action="settings">
                    <span class="btn-icon"><i class="fas fa-cog"></i></span>
                    <span class="btn-label">НАСТРОЙКИ</span>
                    <span class="btn-desc">Звук, графика, контент</span>
                </button>
                
                <!-- Кнопка управления музыкой -->
                <button class="menu-btn" id="btn-music-control">
                    <span class="btn-icon" id="music-icon"><i class="fas fa-music"></i></span>
                    <span class="btn-label" id="music-label">МУЗЫКА</span>
                    <span class="btn-desc" id="music-desc">Выключена</span>
                </button>
                
                <button class="menu-btn" id="btn-dossier" data-action="dossier">
                    <span class="btn-icon"><i class="fas fa-file-alt"></i></span>
                    <span class="btn-label">ДОСЬЕ</span>
                    <span class="btn-desc">Персонажи и улики</span>
                </button>
            </div>
            
            <!-- Нижняя панель -->
            <div class="menu-footer">
                <div class="footer-left">
                    <div class="game-info">
                        <span class="info-version">Версия 1.0 Alpha</span>
                        <span class="info-genre"><i class="fas fa-search"></i> Детектив 18+</span>
                    </div>
                </div>
                
                <div class="footer-center">
                    <div class="content-tags">
                        <span class="tag"><i class="fas fa-search"></i> Детектив</span>
                        <span class="tag"><i class="fas fa-brain"></i> Психология</span>
                        <span class="tag"><i class="fas fa-theater-masks"></i> Драма</span>
                        <span class="tag"><i class="fas fa-crosshairs"></i> Выбор</span>
                    </div>
                </div>
                
                <div class="footer-right">
                    <button class="footer-btn" id="btn-credits">
                        <i class="fas fa-users"></i> Авторы
                    </button>
                    <button class="footer-btn btn-exit" id="btn-exit">
                        <i class="fas fa-power-off"></i> Выйти
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Всплывающее окно настроек музыки -->
        <div id="music-popup" class="popup">
            <div class="popup-content popup-music">
                <div class="popup-header">
                    <h3><i class="fas fa-music"></i> НАСТРОЙКИ МУЗЫКИ</h3>
                    <button class="popup-close" id="music-close"><i class="fas fa-times"></i></button>
                </div>
                <div class="popup-body">
                    <div class="music-controls">
                        <!-- Текущий трек -->
                        <div class="now-playing">
                            <div class="track-info">
                                <div class="track-name" id="current-track-name">Трек не выбран</div>
                                <div class="track-status" id="current-track-status">Музыка выключена</div>
                            </div>
                            <div class="player-controls">
                                <button class="player-btn" id="btn-play-pause">
                                    <i class="fas fa-play"></i>
                                </button>
                                <button class="player-btn" id="btn-prev-track">
                                    <i class="fas fa-step-backward"></i>
                                </button>
                                <button class="player-btn" id="btn-next-track">
                                    <i class="fas fa-step-forward"></i>
                                </button>
                            </div>
                        </div>
                        
                        <!-- Громкость -->
                        <div class="volume-control">
                            <label>Громкость:</label>
                            <div class="volume-slider-container">
                                <i class="fas fa-volume-down volume-icon"></i>
                                <input type="range" id="music-volume" min="0" max="100" value="50" class="volume-slider">
                                <i class="fas fa-volume-up volume-icon"></i>
                                <span id="volume-value" class="volume-value">50%</span>
                            </div>
                        </div>
                        
                        <!-- Список треков -->
                        <div class="track-list">
                            <h4>Доступные треки:</h4>
                            <div id="tracks-container" class="tracks-container">
                                <!-- Треки будут добавлены через JS -->
                            </div>
                        </div>
                        
                        <!-- Автовоспроизведение -->
                        <div class="music-settings">
                            <div class="setting-item">
                                <input type="checkbox" id="auto-play" checked>
                                <label for="auto-play">Автовоспроизведение при запуске</label>
                            </div>
                            <div class="setting-item">
                                <input type="checkbox" id="shuffle-mode" checked>
                                <label for="shuffle-mode">Случайный порядок треков</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Универсальное всплывающее окно для сообщений -->
        <div id="message-popup" class="popup">
            <div class="popup-content popup-message">
                <div class="popup-header">
                    <h3 id="message-title">Сообщение</h3>
                    <button class="popup-close" id="message-close"><i class="fas fa-times"></i></button>
                </div>
                <div class="popup-body">
                    <div class="message-content" id="message-content">
                        <!-- Содержимое сообщения -->
                    </div>
                    <div class="message-buttons" id="message-buttons">
                        <!-- Кнопки будут добавлены через JS -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Аудио элементы -->
    <audio id="bg-music" loop preload="auto"></audio>
    
    <audio id="click-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3" type="audio/mpeg">
    </audio>

    <!-- Скрытая кнопка для разработчиков -->
    <div id="dev-tools" style="position: fixed; bottom: 10px; left: 10px; z-index: 9999; opacity: 0.3;">
        <button onclick="resetAgeCheck()" style="background: #333; color: #aaa; border: 1px solid #666; padding: 5px 10px; font-size: 10px; border-radius: 3px;">
            DEV: Сбросить проверку
        </button>
    </div>

    <!-- Подключаем скрипты -->
    <script src="js/main_menu.js"></script>
    <script src="js/age_check.js"></script>
    <script src="js/character_selection.js"></script>
</body>
</html>